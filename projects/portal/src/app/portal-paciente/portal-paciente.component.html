<plex-layout [aspect]="9" resizable="true">
    <plex-layout-main type="{{ invert === true ? 'invert' : '' }}">
        <plex-title size="{{ isResponsive() ? 'md' : 'sm' }}"
                    titulo="{{ isResponsive() ? 'Bienvenido a tu portal de salud' : 'tu portal' }}" main>
            <plex-button size="sm" [icon]="isResponsive() ? null : 'mail-outline'" class="ml-2" type="link">
                info@andes.gob.ar
            </plex-button>
            <plex-button size="sm" [label]="isResponsive() ? 'www.andes.gob.ar' : null" class="ml-2" type="link">
                <ng-container>
                    <plex-icon name="web"></plex-icon>
                </ng-container>
            </plex-button>
            <plex-button type="info" icon="message-alert" size="sm" hint="tienes dos elementos sin leer" hintIcon="bell"
                         hintType="warning" detach="top" [routerLink]="[{ outlets: { listado: ['misTurnos'] } }]">
            </plex-button>
            <!--<plex-button *mobile="false" type="info" icon="auto-fix" size="sm" (click)="setInvert()"></plex-button>-->
            <!--<plex-button *mobile size="sm" class="ml-2" type="warning" icon="send" >
            </plex-button>-->
            <plex-button *mobile="false" size="sm" class="ml-2" type="danger" label="cerrar sesión"
                         (click)="openModal(0)">
            </plex-button>
            <plex-button *mobile size="sm" class="ml-2" type="danger" icon="close" (click)="isResponsive()">
            </plex-button>
        </plex-title>

        <!-- MODAL: Reporte de errores -->
        <plex-modal size="md" #modal [startOpen]="false" [allowEscClose]="true" [allowBackdropClose]="false">
            <plex-icon name="alert-circle" type="warning"></plex-icon>
            <plex-modal-title type="default">Reportando error en sus datos</plex-modal-title>
            <plex-modal-subtitle center class="font-subtitle text-muted text-center">
                Al completar los siguientes datos y aceptar, usted iniciará un proceso que será sometido a auditoría
                para corroborar el error reportado.
            </plex-modal-subtitle>
            <main>
                <section class="w-100 h-100">
                    <plex-title titulo="Indique y describa el error" size="sm"></plex-title>
                    <form #formulario="ngForm" (close)="notificarAccion(false)">
                        <div>
                            <plex-select placeholder="Seleccione un motivo" grow="2" [(ngModel)]="modelo2.select"
                                         [data]="errores" label-field="nombre + ' (' + continente + ')'"
                                         (change)="cambio" name="motivo">
                            </plex-select>
                        </div>
                        <div class="mt-4">
                            <plex-text placeholder="Describa brevemente el error" multiline="true" [(ngModel)]="prueba"
                                       (change)="cambio" name="error">
                            </plex-text>
                        </div>
                    </form>
                </section>
            </main>

            <plex-button modal left type="danger" (click)="closeModal(0, formulario.form)" [validateForm]="formulario">
                CANCELAR
            </plex-button>
            <plex-button modal right type="success" (click)="closeModal(0, formulario.form)"
                         [disabled]="motivoSelect()">
                ACEPTAR
            </plex-button>
        </plex-modal>
        <!-- FIN MODAL -->

        <plex-grid cols="12" size="md">

            <!-- Menu Lateral -->
            <plex-grid id="menu-vertical" *mobile="false" span="1" class="align-self-start mr-4 flex-column"
                       justify="start" size="xs">
                <ng-container *ngFor="let card of cards$ | async">
                    <plex-button icon="{{ card.icono }}" size="md" type="link" tooltip="{{ card.path }}" class="mb-2"
                                 tooltipPosition="right" [routerLink]="[{ outlets: { listado: [card.path] } }]">
                    </plex-button>
                </ng-container>
            </plex-grid>

            <!-- Listado -->
            <section span="{{ isResponsive() ? '11' : '12' }}">
                <plex-portal-paciente-main (eventoSidebar)="recibirSidebar($event)">
                </plex-portal-paciente-main>
            </section>
        </plex-grid>

        <!-- Menu mobile -->
        <plex-grid *mobile cols="12" class="align-self-start mr-4" size="md">
            <plex-button *ngFor="let card of cards$ | async" size="xs" icon="{{ card.icono }}" type="{{ card.type }}"
                         [routerLink]="[{ outlets: { listado: [card.path] } }]">
            </plex-button>
        </plex-grid>

    </plex-layout-main>
    <plex-layout-sidebar type="{{ invert === false ? 'invert' : null }}">
        <plex-title size="{{ isResponsive() ? 'md' : 'sm' }}"
                    titulo="{{ isResponsive() ? 'detalle de esta consulta' : 'detalle de la consulta' }}">
            <plex-button type="warning" size="sm" (click)="resetOutlet()" icon="delete"></plex-button>
            <plex-button type="danger" icon="close" size="sm" (click)="contraerSidebar()" class="ml-2"></plex-button>
            <!--<plex-button type="warning" (click)="goto([ 'portal-paciente' , 'null' ])" icon="close"></plex-button>-->
        </plex-title>
        <!--<router-outlet name="detalle"></router-outlet>-->
        <router-outlet name="detalleHuds"></router-outlet>
        <router-outlet name="detallePrescripcion"></router-outlet>
        <router-outlet name="detalleVacuna"></router-outlet>
        <router-outlet name="detalleLaboratorio"></router-outlet>
        <router-outlet name="detalleTurno"></router-outlet>
        <router-outlet name="detalleFamiliar"></router-outlet>
        <router-outlet name="detalleProblema"></router-outlet>
        <router-outlet name="detalleConsulta"></router-outlet>
        <router-outlet name="detalleProfesional"></router-outlet>
    </plex-layout-sidebar>
</plex-layout>