<form #perfilForm="ngForm">
    <plex-box>
        <header>
            <div class="row">
                <div class="col-10">
                    <plex-button class="text-left" type="danger" label="Cancelar" (click)="cancelar()"></plex-button>
                </div>
                <div class="col-2">
                    <plex-button class="text-right" type="success" label="Guardar" [validateForm]="perfilForm" (click)="guardar($event)"></plex-button>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <plex-text label="Nombre" [(ngModel)]="perfilEdit.nombre" name="nombre" [required]="true"></plex-text>
                </div>
                <!-- Agregar ngIf para mostrarlo solo cuando tenga permisos para crear un perfil global -->
                <div class="col">
                    <plex-bool label="Global" [(ngModel)]="esGlobal" name="esGlobal" (click)="esGlobal = !esGlobal"></plex-bool>
                </div>
                <div class="col">
                    <plex-bool label="¿Está activo?" type="slide" name="activo" [(ngModel)]="perfilEdit.activo"></plex-bool>
                </div>
            </div>
        </header>
        <div class="row">&nbsp;</div>
        <div *ngFor="let permiso of permisos$ | async ">
            <arbolPermisos [item]="permiso" [userPermissions]="perfilEdit.permisos"></arbolPermisos>
        </div>
    </plex-box>
</form>
