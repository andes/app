<div class="mt-2">
    <ng-container *ngIf="!editar">
        <plex-options [items]="items" (activated)="onActiveOption($event)"></plex-options>
    </ng-container>

    <ng-container *ngIf="mostrar === 'ingreso'">
        <ng-container *ngIf="!editar">
            <!-- ESTADISTICA-V2 -->
            <app-informe-ingreso-estadistica-v2 *ngIf="capa !== 'estadistica'" (accion)="onAccion($event)"
                                                (cancel)="activateOption('ingreso')" (toggleEditar)="toggleEdit()">
                <ng-container *ngIf="anular$ | async">
                    <plex-button size="sm" icon="account-off" type="danger" tooltip="Deshacer Internacion"
                                 tooltipPosition="left" (click)="onAnularInternacion()">
                    </plex-button>
                </ng-container>
            </app-informe-ingreso-estadistica-v2>
            <!-- ESTADISTICA -->
            <app-informe-ingreso *ngIf="capa === 'estadistica'" (cancel)="activateOption('ingreso')">
                <plex-button *ngIf="permisosMapaCamasService.ingreso" tooltip="Editar ingreso" tooltipPosition="left"
                             icon="pencil" type="warning" size="sm" (click)="toggleEdit()" class="mr-1">
                </plex-button>
                <ng-container *ngIf="anular$ | async">
                    <plex-button size="sm" icon="account-off" type="danger" tooltip="Deshacer Internacion"
                                 tooltipPosition="left" (click)="onAnularInternacion()">
                    </plex-button>
                </ng-container>
            </app-informe-ingreso>
        </ng-container>

        <app-ingresar-paciente *ngIf="editar" (onSave)="toggleEdit()">
            <plex-button title="volver" icon="arrow-left" type="danger" size="sm" (click)="toggleEdit()">
            </plex-button>
        </app-ingresar-paciente>
    </ng-container>

    <ng-container *ngIf="mostrar === 'movimientos'">
        <app-movimientos-internacion>
            <plex-button *ngIf="((view$ | async) === 'listado-internacion' && permisosMapaCamasService.movimientos)"
                         [disabled]="(mapaCamasService.prestacion$ | async)?.ejecucion?.registros[1]"
                         label="Cambiar cama" type="warning" size="sm" (click)="changeCama()">
            </plex-button>
        </app-movimientos-internacion>
    </ng-container>

    <ng-container *ngIf="mostrar === 'egreso' && !(mapaCamasService.loading | async)">

        <app-informe-egreso *ngIf="!editar && !existeIngreso" (cancel)="activateOption('egreso')">
            <plex-button *ngIf="puedeEditar()" tooltip="Editar egreso" tooltipPosition="left" icon="pencil"
                         type="warning" size="sm" (click)="toggleEdit()">
            </plex-button>
        </app-informe-egreso>
        <app-egresar-paciente *ngIf="puedeEgresar()" (onSave)="editar ? toggleEdit() : notificarEgreso()">
            <plex-button *ngIf="!existeIngreso" tooltip="Volver" tooltipPosition="left" icon="arrow-left" type="danger"
                         size="sm" (click)="toggleEdit();" [autodisabled]="true">
            </plex-button>
        </app-egresar-paciente>

    </ng-container>

    <ng-container *ngIf="mostrar === 'registros' && permisosMapaCamasService.registros">
        <app-registros-huds-detalle (accion)="onAccion($event)"></app-registros-huds-detalle>
    </ng-container>
</div>