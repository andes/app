<ng-container *ngIf="perfil">
    <plex-title titulo="{{!perfil.id ? 'Crear agrupación' : 'Detalle de perfil'}}" size="lg">
        <plex-button type="danger" label="Cancelar" (click)="cancelar()"></plex-button>
        <plex-button type="success" label="Guardar" (click)="guardar($event)"></plex-button>
    </plex-title>
    <plex-wrapper>
        <plex-grid type="full" cols="2">
            <plex-text label="Nombre" [(ngModel)]="perfil.nombre" name="nombre" [required]="true"></plex-text>
            <plex-wrapper *ngIf="canGlobal">
                <plex-bool label="Global" [(ngModel)]="esGlobal" type="slide" name="esGlobal"
                           (click)="esGlobal = !esGlobal">
                </plex-bool>
            </plex-wrapper>
            <plex-bool label="¿Está activo?" type="slide" name="activo" [(ngModel)]="perfil.activo">
            </plex-bool>
        </plex-grid>
    </plex-wrapper>
    <arbol-permisos [permisos]="permisos$ | async" [userPermissions]="perfil.permisos">
    </arbol-permisos>
</ng-container>