<plex-layout>
    <plex-layout-main>
        <plex-title titulo="Estado de mi inscripción">
        </plex-title>
        <plex-grid type="auto" size="lg" cols="3" justify="center">
            <div>
                <plex-label direction="column" titulo="Campaña de vacunación COVID-19"
                            subtitulo="Completá los datos para conocer el estado de tu inscripción" size="xl"
                            icon="information-variant" type="info">
                </plex-label>
                <form #formulario="ngForm">
                    <div class="form-group">
                        <plex-text [(ngModel)]="documento" (change)="limpiarRespuesta()" name="documento"
                                   label="Documento" [required]="true">
                        </plex-text>
                    </div>
                    <div class="form-group">
                        <plex-radio (change)="seleccionarSexo($event)" [(ngModel)]="sexo" label="Sexo" type="horizontal"
                                    [data]="opcionesSexo" name="sexo">
                        </plex-radio>
                    </div>
                    <div class="form-group mt-2" *ngIf="captchaEnabled">
                        <re-captcha [(ngModel)]="recaptcha" name="mycaptcha">
                        </re-captcha>
                    </div>
                    <div class="form-group mt-2">
                        <plex-button label="Buscar" type="info" (click)="buscar()"
                                     [disabled]="(captchaEnabled && !recaptcha) || !formulario.valid"
                                     [validateForm]="formulario">
                        </plex-button>
                    </div>
                </form>
                <div class="alert alert-danger w-100 mt-2" *ngIf="resultado && !resultado.estado">
                    No existe una inscripción para los datos ingresados.
                </div>

                <div class="alert alert-success w-100 mt-2" *ngIf="resultado?.estado">
                    Su inscripción se encuentra en estado
                    <b>{{resultado.estado}}</b>
                </div>
            </div>
        </plex-grid>
    </plex-layout-main>
</plex-layout>
