<form #form="ngForm">
    <div class="row">
        <div class="col">
            <ng-container *ngIf="!soloValores; else showSoloValores">
                <plex-radio [(ngModel)]="valor" [data]="options" name="binario" [type]="params?.plexRadioType"
                            [required]="params?.required" [label]="label" (change)="onChange()">
                </plex-radio>
                <plex-text *ngIf="valor && (valor === 'Otro' || valor === 'No aplica')" label="Descripción"
                           name="descripcion" [(ngModel)]="registro.valor.descripcion" [required]="true">
                </plex-text>
                <ng-container *ngIf="showOkayOptions">
                    <plex-radio [(ngModel)]="valor" [data]="okayOptions" name="okayBinario" [label]=""
                                [type]="params?.plexRadioType" [required]="showOkayOptions"
                                (change)="onChangeOkayOpt()">
                    </plex-radio>
                </ng-container>
            </ng-container>
            <ng-template #showSoloValores>
                <label>
                    {{label}}
                </label>
                <ng-container *ngIf="registro.valor?.id && registro.valor.id !== 'Otro'">
                    {{ registro.valor.label }}
                </ng-container>
                <ng-container *ngIf="registro.valor?.id === 'Otro'">
                    {{ registro.valor.descripcion }}
                </ng-container>
                <ng-container *ngIf="registro.valor && !registro.valor.id">
                    <!-- casos que fueron registrados como un componente de texto -->
                    <ng-container *ngIf="registro.valor.evolucion">
                        <div class="col-8 readonly">
                            <span>Evolución </span>
                            <span [innerHTML]="registro.valor.evolucion"></span>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="!registro.valor.evolucion">
                        {{ registro.valor }}
                    </ng-container>
                </ng-container>
                <ng-container *ngIf="!registro.valor">
                    {{ 'Sin datos' }}
                </ng-container>
            </ng-template>
        </div>
    </div>
</form>