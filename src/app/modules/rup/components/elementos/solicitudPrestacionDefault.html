<ng-container *ngIf="!soloValores">
    <plex-text label="Diagnóstico/Motivo" multiline="true" [autoFocus]="true"
               [(ngModel)]="registro.valor.solicitudPrestacion.motivo" name="motivo"></plex-text>
    <plex-text label="Indicaciones" height=100 [html]="true"
               [(ngModel)]="registro.valor.solicitudPrestacion.indicaciones" name="indicaciones" *ngIf="afterInit">
    </plex-text>

    <plex-select *ngIf="organizaciones.length || registro.valor.solicitudPrestacion.organizacionDestino"
                 [(ngModel)]="registro.valor.solicitudPrestacion.organizacionDestino" name="organizacionDestino"
                 [data]="organizaciones" label="Organización destino" placeholder="Seleccione la organización"
                 labelField="nombre" [required]="true" (change)="onOrganizacionChange()">
    </plex-select>

    <plex-select [(ngModel)]="registro.valor.solicitudPrestacion.profesionalesDestino"
                 (getData)="loadProfesionales($event)" placeholder="Profesionales" (change)="verificarAutocitacion()"
                 labelField="apellido + ' ' + nombre" [multiple]="true" label="Profesional(es) destino">
    </plex-select>

    <plex-bool [(ngModel)]="registro.valor.solicitudPrestacion.informe" name="informe" label="Requiere informe"
               *ngIf="reglaSelected?.destino.informe === 'optional'">

    </plex-bool>

    <ng-container *ngIf="registro.valor.template">
        <lib-form-builder #template [template]="registro.valor.template" [initial]="registro.valor.solicitudPrestacion">
        </lib-form-builder>
    </ng-container>

</ng-container>
<ng-container *ngIf="soloValores">
    <plex-grid cols="3">
        <plex-label titulo="Diagnóstico/Motivo"
                    subtitulo="{{registro.valor.solicitudPrestacion.motivo || 'Sin diagnóstico'}}">
        </plex-label>
        <div>
            <label>Indicaciones</label>
            <span [innerHTML]="registro.valor.solicitudPrestacion.indicaciones"></span>
        </div>
        <plex-label *ngIf="registro.valor?.solicitudPrestacion?.organizacionDestino?.id"
                    titulo="Organización a la cual se solicita"
                    subtitulo="{{registro.valor.solicitudPrestacion.organizacionDestino.nombre}}"></plex-label>
        <plex-label *ngIf="registro?.valor?.solicitudPrestacion?.profesionalesDestino?.length" titulo="Profesional/es"
                    subtitulo="{{profesionales}}">
        </plex-label>
        <ng-container *ngIf="registro.valor.template">
            <lib-form-builder #template [template]="registro.valor.template"
                              [initial]="registro.valor.solicitudPrestacion" [readonly]="true">
            </lib-form-builder>
        </ng-container>
    </plex-grid>
</ng-container>