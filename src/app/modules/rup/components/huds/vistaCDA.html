<!-- Listado de evoluciones al visualizar el hallazgo independiente de una prestacion -->
<form action="">
    <div class="solo-valores-grid hallazgos">
        <ng-container *ngIf="registro?.data">
            <div class="columna">
                <div class="concepto prestacion-offset">
                    <h4 *ngIf="registro?.data?.prestacion?.snomed?.term">
                        {{ registro.data.prestacion.snomed.term[0].toUpperCase() +
                        registro.data.prestacion.snomed.term.slice(1) }}
                    </h4>
                    <div>
                        <plex-badge type="{{ registro.data.prestacion.snomed.semanticTag }}">
                            {{ registro.data.prestacion.snomed.semanticTag }}</plex-badge>
                    </div>
                </div>
                <!-- 34934522 -->
                <div class="divisor">
                    <div class="datos-prestacion">
                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="30px"
                             viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
                            <path fill="#10A6E0"
                                  d="M0,9.461c0,5.219,4.246,9.464,9.464,9.464c5.216,0,9.462-4.245,9.462-9.464C18.926,4.244,14.68,0,9.464,0
                                        c-1.907,0-3.764,0.582-5.33,1.648L2.681,0.194L1.512,4.679L6,3.51L4.981,2.492c1.332-0.855,2.886-1.323,4.483-1.323
                                        c4.574,0,8.295,3.718,8.295,8.292c0,4.573-3.721,8.295-8.295,8.295s-8.295-3.722-8.295-8.295H0z" />
                            <polygon fill="#10A6E0" points="13.306,8.31 10.616,8.31 10.616,5.62 8.31,5.62 8.31,8.31 5.62,8.31 5.62,10.616 8.31,10.616 
                                        8.31,13.306 10.616,13.306 10.616,10.616 13.306,10.616" />
                        </svg>
                        <h5 class="ml-1 text-primary evoluciones">Registros</h5>
                    </div>
                    <div class="justify-content-end nav-fecha d-flex align-items-end">
                        {{ registro.data.fecha | fecha : 'utc' }}
                    </div>
                </div>

                <div class="borde-datos ml-3 pl-2 pt-1">
                    <div class="mp-2 mb-2" *ngIf="codificacionCDA">
                        <ng-container *ngIf="codificacionCDA?.code">
                            <b>Codificación: </b><br>
                            {{ codificacionCDA.code.$.code }} - {{ codificacionCDA.code.$.displayName }}<br>
                        </ng-container>
                        <b>Registros de la consulta: </b><br>
                        <!-- <span [innerHTML]="registro.evoluciones[indice].evolucion"></span> -->
                        <ng-container *ngIf="registro.tipo === 'cda' && codificacionCDA?.text">
                            <span [innerHtml]="codificacionCDA.text"></span>
                        </ng-container>
                        <ng-container *ngIf="!codificacionCDA.text">
                            Sin registros.
                        </ng-container>
                    </div>
                    <div class="columna-completa">
                        <ng-container *ngIf="registro?.data?.adjuntos?.length">
                            <b>Documentos adjuntos:</b>
                            <div class="d-flex justify-content-between adjuntos">
                                <ng-container *ngFor="let archivo of registro.data.adjuntos; let i=index">
                                    <div class="d-flex align-items-center text-info">
                                        {{ 
                                            registro.data.prestacion.snomed.term[0].toUpperCase() +
                                            registro.data.prestacion.snomed.term.slice(1) 
                                        }}
                                    </div>
                                    <div class="d-flex align-items-end mb-1">
                                        <plex-badge type="info mr-1">PDF</plex-badge>
                                        <plex-button type="info" size="sm" icon="download mdi-18px"
                                                     (click)="descargar(archivo)">
                                        </plex-button>
                                    </div>
                                </ng-container>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="!registro?.data?.adjuntos?.length">
                            No hay documentos adjuntos.
                        </ng-container>
                    </div>

                    <div class="columna-completa">
                    </div>

                    <div class="columna-completa">
                    </div>
                </div>

            </div>

            <div class="columna prestacion-offset">
                <div class="concepto border-0">&nbsp;</div>
                <div class="divisor">
                    <div class="datos-prestacion">
                        <svg xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" height="36px" version="1.1"
                             viewBox="0 0 35 50" width="30px" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px">
                            <path d="M23.14,0H2.512C1.127,0,0,1.128,0,2.513v35.961c0,1.385,1.127,2.512,2.512,2.512H27.78
                                c1.385,0,2.513-1.127,2.513-2.512V7.771L23.14,0z M23.734,3.761l3.135,3.408h-3.135V3.761z M28.183,38.471
                                c0,0.224-0.181,0.404-0.402,0.404H2.512c-0.221,0-0.401-0.181-0.401-0.404V2.513c0-0.222,0.181-0.402,0.401-0.402H21.62v6.113
                                c0,0.582,0.477,1.053,1.059,1.053h5.504V38.471z M24.548,30.236"
                                  fill="rgb(16, 166, 224)"></path>
                            <path d="M19.876,14.338c-0.277-0.026-0.536-0.039-0.779-0.039c-1.947,0-2.881,0.841-3.951,2.115
                                c-1.069-1.274-2.003-2.115-3.951-2.115c-0.243,0-0.502,0.013-0.778,0.039c-1.685,0.166-3.634,1.708-3.871,4.665v0.983
                                c0.22,2.831,2.357,6.321,8.601,10.701c6.244-4.38,8.381-7.87,8.602-10.701v-0.983C23.51,16.046,21.562,14.504,19.876,14.338z
                                 M19.156,23.85c-0.809-0.001,3.272-3.849,0.155-6.642c-0.662-0.536-0.582-0.976-0.118-1.162c0.463-0.186,1.021,0.149,1.479,0.555
                                C23.869,19.399,19.965,23.85,19.156,23.85z" fill="rgb(16, 166, 224)"></path>
                        </svg>

                        <h5 class="text-primary">Datos de la Prestación</h5>
                    </div>
                </div>
                <div class="borde-datos ml-3 pl-2 pt-2">
                    <div *ngIf="registro?.data.profesional" class="columna-datos d-flex justify-content-between mb-2">
                        <b>Profesionales: </b><br>
                        <span>
                            <ng-container>{{registro?.data.profesional.apellido }}
                                {{registro?.data.profesional.nombre }}</ng-container><br>
                            <ng-container *ngIf="!registro?.data.profesional && autorCDA">{{autorCDA?.name?.family}}
                                {{autorCDA?.name?.given}}</ng-container>
                        </span>
                    </div>
                    <div *ngIf="registro?.data.organizacion || organizacionCDA?.name"
                         class="columna-datos d-flex justify-content-between mb-2">
                        <b>Organización: </b><br>
                        <span>
                            <ng-container *ngIf="registro?.data.organizacion">{{registro?.data.organizacion.nombre }}
                            </ng-container>
                            <ng-container *ngIf="!registro?.data.organizacion && organizacionCDA">
                                {{organizacionCDA?.name}}</ng-container>
                        </span>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</form>