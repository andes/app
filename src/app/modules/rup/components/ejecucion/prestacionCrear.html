<plex-layout *ngIf="!buscandoPaciente && !showAutocitar" main="12">
    <plex-layout-main> 
        <div class="row">
            <div class="col-6">
                <fieldset>
                    <legend>Datos principales</legend>
                    <plex-datetime type="datetime" [(ngModel)]="fecha" [required]="true" name="fecha" label="Fecha y hora de la prestación">
                    </plex-datetime>
                    <plex-select [(ngModel)]="tipoPrestacionSeleccionada" name="nombrePrestacion" label="Seleccione el tipo de prestación" labelField="term"
                        [data]="tiposPrestacion" [required]="true" (change)="seleccionarTipoPrestacion()">
                    </plex-select>
                </fieldset>
            </div>
            <div *ngIf="mostrarPaciente" class="col-6">
                <fieldset>
                    <legend>Datos del paciente</legend>
                    <paciente-detalle *ngIf="paciente" [paciente]="paciente"></paciente-detalle>
                    <plex-button label="SELECCIONAR PACIENTE" type="primary" (click)="buscandoPaciente = true"></plex-button>
                </fieldset>
            </div>
        </div>
    </plex-layout-main>
    <plex-layout-footer> 
            <plex-button position="left" type="danger" label="CANCELAR" (click)="cancelar()">
            </plex-button>
            <plex-button position="right" [label]="btnLabel" type="success" (click)="btnClick()">
            </plex-button>
    </plex-layout-footer>
</plex-layout>

<!-- Búsqueda de pacientes -->
<pacientesSearch *ngIf="buscandoPaciente" (selected)="onPacienteSelected($event)" (cancel)="onPacienteCancel()" [mostrarCancelar]="true"
    [modoCompleto]="true" [bloquearCreate]="true"></pacientesSearch>

<!-- Lista de Agendas para dar turnos autocitados -->
<autocitar-turno *ngIf="showAutocitar && paciente" (cancelarEmitter)="cancelarAutocitar()" [paciente]="paciente" [agendasAutocitar]="agendasAutocitar"
    [prestacionAutocitar]="prestacionAutocitar"></autocitar-turno>
