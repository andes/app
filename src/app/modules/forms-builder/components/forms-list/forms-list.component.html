<plex-layout>
    <plex-layout-main>
      <plex-title main titulo="Listado de Formularios">
        <plex-button type="danger" [routerLink]="'/home'"> Cancelar </plex-button>
        <plex-button type="info" [routerLink]="['create']"> Nuevo formulario </plex-button>
      </plex-title>
      <div *ngxObserve="forms$ as forms; before: loadingTemplate; error: errorTemplate">

        <plex-table [columns]="columns" #table="plTable">
  
            <plex-table-columns>
            </plex-table-columns>
          
          <tr *ngFor="let item of forms">
              <td *plTableCol="'col-1'">{{item.name }}</td>
              <td *plTableCol="'col-2'">{{ item.type }}</td>     
              <td *plTableCol="'col-3'">
                  <plex-badge [type]="item.active ? 'success' : 'danger'">
                    {{ item.active ? 'HABILITADO' : 'DESHABILITADO' }}
                  </plex-badge>
              </td>
              <td *plTableCol="'col-4'">
                <plex-button type="info" icon="pencil" size="sm"  [routerLink]="[item.id]"></plex-button>
              </td>
          </tr>
        </plex-table>
      </div>
  
      <ng-template #loadingTemplate>
        <p>Loading ...</p>
      </ng-template>
      <ng-template #errorTemplate let-error>
        <p>{{ error }}</p>
      </ng-template>
    </plex-layout-main>
  </plex-layout>