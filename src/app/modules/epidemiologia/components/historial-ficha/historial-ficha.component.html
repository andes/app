<plex-title titulo="Historial ficha">
    <ng-content></ng-content>
</plex-title>
<plex-table [columns]="columns" #table="plTable">
    <plex-table-columns>
    </plex-table-columns>
    <tr *ngFor="let ficha of (historial$ | plSort:table | async)">
        <td *plTableCol="'fecha'">{{ (ficha.updatedAt || ficha.createdAt) | date:'dd/MM/yyyy - HH:mm'}}</td>
        <td *plTableCol="'usuario'">
            <ng-container *ngIf="ficha.updatedBy">
                {{ ficha.updatedBy.nombreCompleto ? ficha.updatedBy.nombreCompleto : 'Proceso Autom√°tico'}}
            </ng-container>
            <ng-container *ngIf="!ficha.updatedBy">
                {{ ficha.createdBy.nombreCompleto }}
            </ng-container>
        </td>
        <td *plTableCol="'acciones'">
            <plex-button type="success" icon="eye" size="sm" (click)="verFicha(ficha)">
            </plex-button>
        </td>
    </tr>
</plex-table>