<plex-layout main="8">
    <plex-layout-main>
        <header>
            <h4> Configuración de turneros </h4>
        </header>

        <plex-button type="info" class="float-right" size="sm" (click)="nueva()"> Nueva pantalla </plex-button>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th> Nombre </th>
                    <th> Token </th>
                    <th> Activación </th>
                    <th> Acciones </th>
                </tr>
            </thead>
            <tr *ngFor="let pantalla of pantallas">
                <td> {{pantalla.nombre}} </td>
                <td> {{pantalla.token ? pantalla.token : 'Activado' }} </td>
                <td>
                    <span *ngIf="pantalla.expirationTime && !vencido(pantalla.expirationTime)">
                        {{pantalla.expirationTime ? 'Hasta ' + (pantalla.expirationTime  | date: "HH:mm") : ''}}
                    </span>
                    <span *ngIf="!pantalla.expirationTime || vencido(pantalla.expirationTime)">
                        <plex-button type="info" (click)="renovar(pantalla)"> Renovar </plex-button>
                    </span>
                </td>
                <td>
                    <ng-container *ngIf="muestraAcciones">
                        <plex-button type="danger" (click)="eliminar(pantalla)"> Eliminar </plex-button>
                        <plex-button type="info" (click)="edit(pantalla)"> Editar </plex-button>
                    </ng-container>
                </td>
            </tr>
        </table>
    </plex-layout-main>
    <plex-layout-sidebar>
        <header> Detalles </header>
        <router-outlet></router-outlet>
    </plex-layout-sidebar>
</plex-layout>