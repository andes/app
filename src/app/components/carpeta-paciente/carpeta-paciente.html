<fieldset>
    <div class="col-12" *ngIf="showList">
        <h5 *ngIf="carpetaEfectores?.length > 0">Organización | Número de carpeta</h5>
        <ul class="list-group">
            <ng-container *ngFor="let carpeta of carpetaEfectores">
                <li *ngIf="carpeta.nroCarpeta && carpeta.nroCarpeta!=''" [ngClass]="{ 'fondoNegro' : idOrganizacion === carpeta.organizacion._id }"
                    class="list-group-item default">
                    <div class="row">
                        <div class="col-11">
                            {{carpeta.organizacion.nombre}} | {{carpeta.nroCarpeta}}
                        </div>
                        <div *ngIf="idOrganizacion === carpeta.organizacion._id && !showEdit && autorizado" class="col-1">
                            <plex-button type="info" title="Editar" icon="mdi mdi-pencil" (click)="editar()">
                            </plex-button>
                        </div>
                    </div>
                    <div class="row" *ngIf="idOrganizacion === carpeta.organizacion._id && showEdit && autorizado">
                        <div class="col-12">
                            <plex-text label="Nuevo Nro. carpeta" name="nroCarpeta" [(ngModel)]="carpetaPaciente.nroCarpeta">
                            </plex-text>
                        </div>
                        <div *ngIf="idOrganizacion === carpeta.organizacion._id && showEdit" class="col-1 btnEdit">
                            <plex-button type="danger" icon="close-circle-outline" title="Cancelar" (click)="cerrarEdicion()">
                            </plex-button>
                        </div>
                        <div *ngIf="idOrganizacion === carpeta.organizacion._id && showEdit" class="col-1 btnEdit">
                            <plex-button type="success" icon="mdi mdi-content-save" title="Guardar" (click)="guardarCarpetaPaciente()">
                            </plex-button>
                        </div>
                    </div>
                </li>
            </ng-container>
        </ul>
        <div class="row" *ngIf="showNuevaCarpeta">
            <div class="col-12">
                <h6>
                    <strong>
                        No existe un Nro. de carpeta en la organización actual
                    </strong>
                </h6>
            </div>
            <br>
            <div class="col-12">
                <plex-button type="success" label="Nueva Carpeta" (click)="crearCarpetaPaciente()" title="Nueva Carpeta">
                </plex-button>
            </div>
        </div>
    </div>

    <div class="col-12" *ngIf="!showList">
        <div class="row">
            <div class="col-12">
                <plex-text label="Número de Carpeta" name="nroCarpeta" [(ngModel)]="carpetaPaciente.nroCarpeta">
                </plex-text>
            </div>
            <br>
            <div class="col-12 float-right">
                <plex-button type="danger" label="Cancelar" (click)="cancelar()">
                </plex-button>
                <plex-button type="success" label="Guardar" (click)="guardarCarpetaPaciente(true)" title="Guardar Carpeta">
                </plex-button>
            </div>
        </div>
    </div>
</fieldset>
