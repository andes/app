<section>
    <plex-box>
        <div class="row">
            <div class="col">

                <header>
                    <div class="clearfix">
                        <div class="page-title float-left">Mapa de camas</div>
                    </div>

                    <hr />

                    <div class="row" *ngIf="estadoServicio && estadoServicio.total > 0">
                        <div class="col-2">
                            <h4>
                                Estado del servicio >
                            </h4>
                        </div>
                        <div class="col">
                            <span class="estado">
                                Total de camas
                                <span class="badge badge-default">
                                    {{estadoServicio.total}}
                                </span>
                            </span>

                            <span class="estado">
                                Ocupación
                                <span class="badge badge-primary">
                                    {{estadoServicio.ocupadas}}
                                </span>
                            </span>

                            <span class="estado">
                                Desocupadas
                                <span class="badge badge-success">
                                    {{estadoServicio.desocupadas}}
                                </span>
                            </span>

                            <span class="estado">
                                Bloqueadas
                                <span class="badge badge-danger">
                                    {{estadoServicio.bloqueadas}}
                                </span>
                            </span>

                            <span class="estado">
                                Reparación
                                <span class="badge badge-danger">
                                    {{estadoServicio.reparacion}}
                                </span>
                            </span>

                            <span class="estado">
                                Descontaminación
                                <span class="badge badge-success">
                                    {{estadoServicio.descontaminacion}}
                                </span>
                            </span>

                            <span class="estado">
                                Desocupadas con oxígeno
                                <span class="badge badge-success">
                                    {{estadoServicio.desocupadasOxigeno}}
                                </span>
                            </span>
                        </div>
                    </div>

                    <hr />


                    <div class="row" *ngIf="camas">
                        <div class="col-lg-12" *ngIf="camas">
                            <div class="row">

                                <div class="col-sm-3 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <label for="filtros-nombre">Paciente</label>
                                        <input type="text" class="form-control" [(ngModel)]="filtros.nombre" id="filtros-nombre" label="Nombre paciente / N. de documento"
                                            (keyup)="filtrar()" />
                                    </div>
                                </div>
                                <div class="col-sm-2 col-lg-2 col-xl-1">
                                    <plex-select [disabled]="true" [(ngModel)]="filtros.sector" name="sector" [data]="filtros.opciones.sectores" label="Sector"
                                        (change)="filtrar()" *ngIf="filtros.opciones.sectores.length"></plex-select>
                                </div>
                                <div class="col-sm-3 col-lg-3 col-xl-2">
                                    <div class="form-group">
                                        <plex-select [(ngModel)]="filtros.servicio" nmae="servicio" [data]="filtros.opciones.servicios" label="Servicio" (change)="filtrar()"
                                            *ngIf="filtros.opciones.servicios.length"></plex-select>
                                    </div>
                                </div>

                                <div class="col-sm-2 col-lg-2 col-xl-1">
                                    <plex-select [(ngModel)]="filtros.habitacion" name="habitacion" [data]="filtros.opciones.habitaciones" label="Habitación"
                                        (change)="filtrar()" *ngIf="filtros.opciones.habitaciones.length"></plex-select>
                                </div>

                                <div class="col-sm-2 col-lg-3 col-xl-2">
                                    <plex-select [(ngModel)]="filtros.tipoCama" name="tipoCama" [data]="filtros.opciones.tiposCamas" label="Tipo de cama" (change)="filtrar()"
                                        *ngIf="filtros.opciones.tiposCamas.length"></plex-select>
                                </div>

                                <div class="col-sm-2 col-lg-3 col-xl-1">
                                    <plex-select [(ngModel)]="filtros.estado" name="estado" [data]="filtros.opciones.estados" label="Estado" (change)="filtrar()"
                                        *ngIf="filtros.opciones.estados.length"></plex-select>
                                </div>

                                <div class="col-sm-3 col-lg-3 col-xl-3">
                                    <div class="btn-group col mt-5" role="group" aria-label="Botonera principal">
                                        <button type="button" class="btn btn-primary btn-block" (click)="limpiarFiltros()">
                                            Limpiar filtros
                                        </button>

                                        <!-- <button type="button" class="btn btn-primary btn-block tips" (click)="layout = 'grid'" [ngClass]="{'active': layout == 'grid'}"
                                            title="Vista de grilla">
                                            <i class="mdi mdi-grid"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-block tips" (click)="layout = 'list'" [ngClass]="{'active': layout == 'list'}"
                                            title="Vista de lista">
                                            <i class="mdi mdi-view-list"></i>
                                        </button> -->
                                    </div>
                                </div>
                            </div>


                        </div>

                    </div>


                    <hr />
                </header>

                <div class="row">
                    <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 " *ngFor="let cama of camas; let i = index">
                        <app-cama [cama]="cama" (evtCama)="updateCama($event, i)"></app-cama>
                    </div>
                </div>

            </div>
        </div>
    </plex-box>
</section>
