<section>
    <div class="row">
        <div class="col-8">
            <plex-box type="primary">
                <header>
                    <div class="page-title">Gesti√≥n de Usuarios</div>
                </header>
                <span *ngIf="!hidePermisos">
                <div class="row">
                    <div class="col-9">
                        <plex-select [(ngModel)]="organizacionSelect" name="organizacion" [data]="organizacionesUsuario"
                            [required]="true" (change)="onOrgChange()">
                        </plex-select>
                    </div>
                    <div class="col" *ngIf="showAgregarEfector">
                        <plex-button type="info btn-sm" label="Agregar Efector" (click)="newEfector()"></plex-button>
                    </div>
                </div>
                <div class="row">&nbsp;</div>
                <div *ngFor="let permiso of permisos$ | async ">
                    <arbolPermisos [item]="permiso" [userPermissions]="permisos"></arbolPermisos>
                </div>
                <div *ngIf="btnEliminar">
                    <div class="row">&nbsp;</div>
                    <plex-button type="danger" icon="delete" label="Quitar Efector" (click)="deleteEfector()"></plex-button>
                </div>
                </span>
                <div *ngIf="hidePermisos">
                    <plex-select label="Nuevo Efector" [(ngModel)]="newOrg" name="nuevaOrganizacion" [data]="newOrganizaciones" [required]="true">
                    </plex-select>
                    <plex-button type="primary" icon="save" label="Agregar" (click)="agregarOrg()"></plex-button>
                </div>
            </plex-box>
        </div>
        <div class="col text-center ">
            <plex-box type="primary ">
                <header>
                    <h3>Datos del Usuario
                    </h3>
                </header>
                <div class="row ">
                    <div class="col-12 ">
                        <img class="foto " src="{{userModel.foto}} ">
                    </div>
                    <div class="col-12 " *ngIf="userModel.apellido && userModel.nombre ">
                        <h3><strong>{{userModel.apellido}}</strong>
                            <small> {{userModel.nombre}}</small>
                        </h3>
                    </div>
                    <div class="col-12 " *ngIf="userModel.usuario ">
                        <h4>D.N.I. {{userModel.usuario}} </h4>
                    </div>
                </div>

            </plex-box>
        </div>

    </div>
</section>
<footer>
    <div class="text-right ">
        <plex-button icon="close-circle-outline " label="Cancelar " type="danger " (click)="onCancel() ">
        </plex-button>
        <plex-button icon="content-save " label="Guardar " type="success " (click)="onSave() ">
        </plex-button>

    </div>
</footer>